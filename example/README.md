# 제약 제조 데이터 분석 실습 가이드

## 📋 개요

이 실습 패키지는 제약 제조 공정 데이터를 활용한 종합적인 데이터 분석 교육을 위해 설계되었습니다. 실제 제약 회사의 1,005 배치 생산 데이터를 바탕으로 다음과 같은 내용을 학습할 수 있습니다.

### 🎯 학습 목표
- 제조 데이터 수집 및 처리 방법론
- 데이터 전처리 및 품질 관리 기법
- 차원축소와 특성 엔지니어링 실무
- 시계열 데이터 분석 및 실시간 모니터링
- 머신러닝을 활용한 품질 예측 모델링

## 📊 데이터셋 정보

**데이터 출처**: 2018년 11월 ~ 2021년 4월 고용량 콜레스테롤 저하 필름-코팅 정제 생산 데이터

### 데이터 구조
| 파일명 | 설명 | 크기 | 주요 내용 |
|--------|------|------|----------|
| `Laboratory.csv` | 배치별 품질 데이터 | 1,005 배치 × 53 변수 | 원료 분석, 중간제품, 완제품 품질 |
| `Process.csv` | 집계된 공정 데이터 | 1,005 배치 × 34 변수 | 공정 센서 요약 통계 |
| `Normalization.csv` | 정규화 계수 | 26 제품 × 3 변수 | 배치 크기 보정 계수 |
| `Process/*.csv` | 시계열 센서 데이터 | 25개 파일 | 10초 간격 실시간 센서 데이터 |

### 주요 변수
- **품질 지표**: 용출률 (dissolution_av, dissolution_min), 불순물 (impurities_total)
- **공정 변수**: 압축력 (main_comp), 속도 (tbl_speed), 충전량 (tbl_fill)
- **원료 정보**: API 함량, 부형제 특성, 수분 함량

## 🗂️ 실습 파일 구성

### 1️⃣ `pharmaceutical_data_preprocessing_tutorial.py`
**종합 데이터 전처리 및 특성 엔지니어링 실습**

#### 🔍 주요 내용
- **1단계**: 데이터 수집 및 로딩
- **2단계**: 탐색적 데이터 분석 (EDA)
- **3단계**: 데이터 전처리 (결측값, 이상값, 데이터 병합)
- **4단계**: 특성 엔지니어링 (새로운 지표 생성, 인코딩)
- **5단계**: 데이터 스케일링 (StandardScaler, MinMaxScaler, RobustScaler)
- **6단계**: 차원 축소 (PCA)
- **7단계**: 특성 선택 (F-score, 상호정보량, Random Forest)
- **8단계**: 클러스터링 분석 (K-means)
- **9단계**: 예측 모델링 및 성능 평가
- **10단계**: 결과 요약 및 시각화

#### 📈 생성되는 결과물
- `pca_analysis.png`: PCA 분석 결과
- `clustering_analysis.png`: 클러스터링 분석 결과
- `feature_importance.png`: 특성 중요도 분석

#### ⏱️ 예상 실행 시간: 10-15분

### 2️⃣ `time_series_analysis_tutorial.py`
**제약 공정 시계열 데이터 분석 실습**

#### 🔍 주요 내용
- **1단계**: 시계열 데이터 로딩 (Process/*.csv)
- **2단계**: 시계열 데이터 탐색 및 시각화
- **3단계**: 시계열 전처리 (보간, 이상값 처리, 이동평균)
- **4단계**: 시계열 특성 엔지니어링 (통계량, 트렌드, 안정성 지표)
- **5단계**: 시계열 클러스터링 (패턴 기반 분류)
- **6단계**: 시계열 이상값 탐지
- **7단계**: 시계열-품질 연관성 분석
- **8단계**: 시계열 기반 예측 모델링
- **9단계**: 실시간 모니터링 시뮬레이션
- **10단계**: 결과 요약

#### 📈 생성되는 결과물
- `timeseries_overview.png`: 시계열 데이터 개요
- `timeseries_clustering.png`: 시계열 클러스터링 결과
- `timeseries_quality_correlation.png`: 시계열-품질 상관관계
- `timeseries_feature_importance.png`: 시계열 특성 중요도
- `realtime_monitoring_simulation.png`: 실시간 모니터링 시뮬레이션

#### ⏱️ 예상 실행 시간: 15-20분

## 🚀 실습 진행 방법

### 사전 준비

1. **Python 환경 설정** (Python 3.8+)
```bash
pip install pandas numpy matplotlib seaborn scikit-learn scipy
```

2. **데이터 파일 확인**
```bash
ls -la *.csv
ls -la Process/
```

### 실습 순서

#### 기본 과정 (권장)
1. **데이터 탐색**: `data_description.md` 파일 읽기
2. **기본 전처리**: `pharmaceutical_data_preprocessing_tutorial.py` 실행
3. **시계열 분석**: `time_series_analysis_tutorial.py` 실행

#### 심화 과정
1. 생성된 특성을 활용한 추가 모델링
2. 다른 타겟 변수 (dissolution_min, impurities_total) 예측
3. 앙상블 모델 구현
4. 딥러닝 모델 적용

### 실행 방법

```bash
# 기본 전처리 실습
python pharmaceutical_data_preprocessing_tutorial.py

# 시계열 분석 실습
python time_series_analysis_tutorial.py
```

## 📚 학습 내용별 상세 가이드

### 🔧 데이터 전처리
- **결측값 처리**: 중앙값 대체, 선형 보간
- **이상값 탐지**: IQR 방법, Z-score 방법
- **데이터 병합**: 배치 기준 다중 데이터셋 결합
- **스케일링**: 다양한 정규화 기법 비교

### 🎨 특성 엔지니어링
- **도메인 지식 활용**: 공정 효율성, 품질 일관성 지표
- **통계적 특성**: 평균, 표준편차, 분위수, 변동계수
- **트렌드 분석**: 선형 회귀 기울기, 변화율
- **범주형 변수 처리**: 원-핫 인코딩

### 📉 차원 축소
- **PCA**: 주성분 분석과 분산 기여도
- **특성 선택**: 통계적 방법, 상호정보량, 트리 기반 중요도
- **클러스터링**: K-means를 활용한 배치 패턴 분류

### 📊 시계열 분석
- **시계열 전처리**: 시간 동기화, 노이즈 제거
- **패턴 인식**: 클러스터링 기반 생산 패턴 분류
- **이상값 탐지**: 실시간 품질 모니터링 알고리즘
- **예측 모델**: 시계열 특성 기반 품질 예측

## 🎯 실습 활용 방안

### 교육 과정별 적용
- **기초**: 1-5단계 (데이터 로딩~스케일링)
- **중급**: 6-8단계 (차원축소~클러스터링)
- **고급**: 9-10단계 (모델링~시계열 분석)

### 산업 적용 시나리오
1. **품질 관리**: 실시간 품질 예측 시스템
2. **공정 최적화**: 생산 조건 최적화
3. **예방 정비**: 장비 이상 조기 탐지
4. **규제 대응**: FDA/EMA 가이드라인 준수

## 🔍 결과 해석 가이드

### 모델 성능 지표
- **R² (결정계수)**: 0.8 이상 우수, 0.6-0.8 양호
- **RMSE**: 타겟 변수 표준편차의 20% 이하 권장
- **특성 중요도**: 상위 10개 특성으로 80% 이상 설명력

### 시각화 결과 분석
- **PCA 그래프**: 95% 분산 설명 주성분 수 확인
- **클러스터링**: 배치별 생산 패턴 차이점 분석
- **상관관계 히트맵**: 공정-품질 인과관계 파악

## 🚨 주의사항

### 데이터 품질
- 일부 배치의 시계열 데이터가 불완전할 수 있음
- 주말/공휴일 생산 중단 구간 존재
- 센서 오류로 인한 이상값 포함 가능

### 실행 환경
- **메모리**: 최소 8GB RAM 권장
- **저장공간**: 2GB 이상 여유 공간
- **처리시간**: 대용량 시계열 처리시 시간 소요

## 📞 문의 및 지원

### 기술적 문제
- 데이터 로딩 오류: 파일 경로 및 구분자(';') 확인
- 메모리 부족: 배치 수를 줄여서 실행
- 패키지 오류: 가상환경에서 재설치

### 교육 문의
- 실습 난이도 조정 요청
- 추가 분석 기법 문의
- 맞춤형 교육 과정 개발

---

## 📝 라이선스 및 인용

이 실습 자료는 교육 목적으로 제작되었으며, 실제 제약 제조 데이터를 기반으로 합니다. 
상업적 사용시 별도 문의 바랍니다.

**Citation**: 
```
Pharmaceutical Manufacturing Data Analysis Tutorial
Educational Package for Process Data Analytics
Version 1.0, 2024
```

---

*✨ 제약 데이터 분석의 전문성을 키우는 첫걸음을 함께하세요! ✨* 